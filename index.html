<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>e-mail subscription</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> 

    <body>
        <div class="mt-5 text-center" >
            <h1><strong>Subscribe to our newsletter</strong></h1>
        </div>
        <div class="container d-flex align-items-center justify-content-center" style="height: 100px;">
            <input type="text" name="email" placeholder="Enter your email" class="form-control">
            <input type="submit" value="Subscribe" class="btn btn-primary">
        </div>
        <div class="text-center"> 
            <p class="response"></p>
        </div>

        <!-- Script to call the lamba function -->
        <script>
            $('input[type="submit"]').click(function(e){
                e.preventDefault();
                var email = $('input[name="email"]').val();
                console.log('email: ' + email);
                $.ajax({
                    type: 'get',
                    url: 'https://gvx9ody4wd.execute-api.us-east-1.amazonaws.com/Prod/subscribe',
                    data: {
                        email: email
                    },
                    success: function(data){
                        data.error ? color='red': color='green';
                        $('.response').text(data.res).css('color', color);
                    }
                })
            });
        </script>

    </body>
</html>